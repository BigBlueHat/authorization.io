<h1 align="center">Identity Provider: Credential Manager</h1>
<div ng-controller="CredentialManagerController as model">

  <div ng-if="model.action === 'request'">
    Select this credential to fulfill the request?<br/>

    <br-identity-composer
      br-library="model.library"
      br-credentials="model.credentials"
      br-consumer-query="model.query"
      br-id="model.idp.identity.id"
      ng-model="model.composed">
    </br-identity-composer>

    <button ng-click="model.transmit(model.composed)" type="button"
      class="btn btn-primary">Compose Credential</button>
  </div>

  <div ng-if="model.action === 'store'">
    Store this credential in your vault?<br/>

    <!-- FIXME? -->
    <pre>{{model.idp.identity|json}}</pre>

    <button ng-click="model.store(model.idp.identity)" type="button"
      class="btn btn-primary">Store Credential</button>
  </div>

</div>
